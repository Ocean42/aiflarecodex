{
  "name": "aiflare-cli-backend-html5",
  "private": true,
  "type": "module",
  "workspaces": [
    "backend",
    "cli-worker",
    "frontend",
    "protocol"
  ],
  "scripts": {
    "dev": "npm run build && npm-run-all --parallel start:backend start:cli start:frontend",
    "start:backend": "(lsof -ti:4310 | xargs kill -9 >/dev/null 2>&1 || true) && BACKEND_PORT=4310 npm --workspace backend run dev",
    "start:cli": "npx wait-on http://127.0.0.1:4310/api/health && BACKEND_URL=http://127.0.0.1:4310 npm --workspace cli-worker run dev",
    "start:frontend": "(lsof -ti:5177 | xargs kill -9 >/dev/null 2>&1 || true) && npm --workspace frontend run dev",
    "build": "npm run build:protocol && npm run build:backend && npm run build:cli && npm run build:frontend",
    "build:protocol": "npm --workspace protocol run build",
    "build:backend": "npm --workspace backend run build",
    "build:cli": "npm --workspace cli-worker run build",
    "build:frontend": "npm --workspace frontend run build",
    "dev:backend": "npm --workspace backend run dev",
    "dev:cli": "npm --workspace cli-worker run dev",
    "dev:frontend": "npm --workspace frontend run dev",
    "test:unit": "npm --workspace backend run test:unit && npm --workspace cli-worker run test:unit",
    "test:integration": "npm --workspace backend run test:integration",
    "e2e": "npm run build && npm --workspace frontend run e2e"
  },
  "devDependencies": {
    "npm-run-all": "^4.1.5",
    "typescript": "^5.6.3",
    "wait-on": "^9.0.3"
  }
}
